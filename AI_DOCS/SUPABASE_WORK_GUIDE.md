# üìò –ì–ê–ô–î: –ü–µ—Ä–µ–Ω–æ—Å —Ç—É—Ä–æ–≤ –≤ Supabase

## üéØ –¶–µ–ª—å
–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–µ—Ä–µ–Ω–æ—Å –¥–∞–Ω–Ω—ã—Ö —Ç—É—Ä–æ–≤ –∏–∑ TypeScript —Ñ–∞–π–ª–æ–≤ –≤ Supabase –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –±–µ–∑ –ø–æ–ª–æ–º–∫–∏ —Ä–∞–±–æ—Ç–∞—é—â–µ–≥–æ —Å–∞–π—Ç–∞.

## üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–ê–í–ò–õ–ê –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò

### ‚ùå –ó–ê–ü–†–ï–©–ï–ù–û:
1. **–ù–ï —É–¥–∞–ª—è—Ç—å** —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç—É—Ä—ã –∏–∑ –±–∞–∑—ã
2. **–ù–ï –º–µ–Ω—è—Ç—å** slug —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç—É—Ä–æ–≤ (–ø–æ–ª–æ–º–∞—é—Ç—Å—è —Å—Å—ã–ª–∫–∏!)
3. **–ù–ï –º–µ–Ω—è—Ç—å** —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü –±–µ–∑ –º–∏–≥—Ä–∞—Ü–∏–∏
4. **–ù–ï –¥–µ–ª–∞—Ç—å** deploy –±–µ–∑ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ localhost
5. **–ù–ï —Ç—Ä–æ–≥–∞—Ç—å** TypeScript —Ñ–∞–π–ª—ã —Ç—É—Ä–æ–≤ (–æ–Ω–∏ –æ—Å—Ç–∞—é—Ç—Å—è –∫–∞–∫ –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö)

### ‚úÖ –†–ê–ó–†–ï–®–ï–ù–û:
1. **–î–æ–±–∞–≤–ª—è—Ç—å** –Ω–æ–≤—ã–µ —Ç—É—Ä—ã –≤ –±–∞–∑—É
2. **–û–±–Ω–æ–≤–ª—è—Ç—å** –¥–∞–Ω–Ω—ã–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç—É—Ä–æ–≤
3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å** –Ω–∞ localhost –ø–µ—Ä–µ–¥ deploy
4. **–°–ø—Ä–∞—à–∏–≤–∞—Ç—å** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–µ—Ä–µ–¥ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏

---

## üìä –°–¢–†–£–ö–¢–£–†–ê –ë–ê–ó–´ –î–ê–ù–ù–´–•

### –¢–∞–±–ª–∏—Ü–∞ `tours` (–æ—Å–Ω–æ–≤–Ω–∞—è)
```sql
CREATE TABLE tours (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  title TEXT NOT NULL,                    -- –ù–∞–∑–≤–∞–Ω–∏–µ —Ç—É—Ä–∞
  subtitle TEXT,                           -- –ü–æ–¥–∑–∞–≥–æ–ª–æ–≤–æ–∫
  slug TEXT NOT NULL UNIQUE,               -- URL-–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (–í–ê–ñ–ù–û!)
  description TEXT,                        -- –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
  short_description TEXT,                  -- –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
  category_id UUID,                        -- –°—Å—ã–ª–∫–∞ –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—é
  price_adult INTEGER NOT NULL,            -- –¶–µ–Ω–∞ –¥–ª—è –≤–∑—Ä–æ—Å–ª—ã—Ö
  price_child INTEGER NOT NULL,            -- –¶–µ–Ω–∞ –¥–ª—è –¥–µ—Ç–µ–π
  currency TEXT DEFAULT 'THB',             -- –í–∞–ª—é—Ç–∞
  duration TEXT NOT NULL,                  -- –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
  group_size TEXT NOT NULL,                -- –†–∞–∑–º–µ—Ä –≥—Ä—É–ø–ø—ã
  difficulty_level TEXT,                   -- –£—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
  highlights TEXT[],                       -- –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã
  included TEXT[],                         -- –í–∫–ª—é—á–µ–Ω–æ –≤ —Å—Ç–æ–∏–º–æ—Å—Ç—å
  excluded TEXT[],                         -- –ù–µ –≤–∫–ª—é—á–µ–Ω–æ
  requirements TEXT[],                     -- –ß—Ç–æ –≤–∑—è—Ç—å —Å —Å–æ–±–æ–π
  important_info TEXT[],                   -- –í–∞–∂–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
  meta_title TEXT,                         -- SEO title
  meta_description TEXT,                   -- SEO description
  tags TEXT[],                             -- –¢–µ–≥–∏ –¥–ª—è –ø–æ–∏—Å–∫–∞
  is_active BOOLEAN DEFAULT true,          -- –ê–∫—Ç–∏–≤–µ–Ω –ª–∏ —Ç—É—Ä
  is_featured BOOLEAN DEFAULT false,       -- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ –≥–ª–∞–≤–Ω–æ–π
  sort_order INTEGER,                      -- –ü–æ—Ä—è–¥–æ–∫ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
```

### –¢–∞–±–ª–∏—Ü–∞ `tour_gallery` (—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏)
```sql
CREATE TABLE tour_gallery (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  tour_id UUID REFERENCES tours(id) ON DELETE CASCADE,
  image_url TEXT NOT NULL,                 -- URL –∏–ª–∏ –ø—É—Ç—å –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é
  sort_order INTEGER,                      -- –ü–æ—Ä—è–¥–æ–∫ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
```

### –¢–∞–±–ª–∏—Ü–∞ `tour_itinerary` (–ø—Ä–æ–≥—Ä–∞–º–º–∞ —Ç—É—Ä–∞)
```sql
CREATE TABLE tour_itinerary (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  tour_id UUID REFERENCES tours(id) ON DELETE CASCADE,
  day TEXT NOT NULL,                       -- –î–µ–Ω—å –ø—Ä–æ–≥—Ä–∞–º–º—ã ("1-–π –¥–µ–Ω—å")
  title TEXT NOT NULL,                     -- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —ç—Ç–∞–ø–∞
  description TEXT,                        -- –û–ø–∏—Å–∞–Ω–∏–µ —ç—Ç–∞–ø–∞
  time TEXT,                               -- –í—Ä–µ–º—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  sort_order INTEGER,                      -- –ü–æ—Ä—è–¥–æ–∫ —ç—Ç–∞–ø–æ–≤
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
```

---

## üîÑ –ü–†–û–¶–ï–°–° –ü–ï–†–ï–ù–û–°–ê –¢–£–†–ê

### –®–ê–ì 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
1. –û—Ç–∫—Ä–æ–π TypeScript —Ñ–∞–π–ª —Ç—É—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `src/data/jamesBondIslandTour.ts`)
2. –ù–∞–π–¥–∏ –æ–±—ä–µ–∫—Ç `TourData` —Å –¥–∞–Ω–Ω—ã–º–∏
3. –ü—Ä–æ–≤–µ—Ä—å –Ω–∞–ª–∏—á–∏–µ –≤—Å–µ—Ö –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π:
   - title
   - slug (–ö–†–ò–¢–ò–ß–ù–û - –¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å id –≤ toursRegistry!)
   - price_adult
   - price_child
   - duration
   - group_size

### –®–ê–ì 2: –°–æ–∑–¥–∞–Ω–∏–µ SQL INSERT –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã
```sql
-- –®–ê–ë–õ–û–ù –≤—Å—Ç–∞–≤–∫–∏ —Ç—É—Ä–∞
INSERT INTO tours (
  slug,                    -- –ò–ó toursRegistry.id
  title,                   -- –ò–ó tourData.title
  subtitle,                -- –ò–ó tourData.subtitle
  description,             -- –ò–ó tourData.description
  price_adult,             -- –ò–ó tourData.priceAdult
  price_child,             -- –ò–ó tourData.priceChild
  currency,                -- –ò–ó tourData.currency
  duration,                -- –ò–ó tourData.duration
  group_size,              -- –ò–ó tourData.groupSize
  highlights,              -- –ò–ó tourData.highlights
  included,                -- –ò–ó tourData.included
  excluded,                -- –ò–ó tourData.excluded
  requirements,            -- –ò–ó tourData.requirements
  important_info,          -- –ò–ó tourData.importantInfo
  tags,                    -- –ò–ó toursRegistry.tags
  is_active,               -- –ò–ó toursRegistry.isActive
  is_featured,             -- –ò–ó toursRegistry.isFeatured
  sort_order               -- –ò–ó toursRegistry.priority
) VALUES (
  'tour-slug',             -- –í–ê–ñ–ù–û: –¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å toursRegistry.id!
  '–ù–∞–∑–≤–∞–Ω–∏–µ —Ç—É—Ä–∞',
  '–ü–æ–¥–∑–∞–≥–æ–ª–æ–≤–æ–∫',
  '–ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ...',
  2000,                    -- —Ü–µ–Ω–∞ –≤–∑—Ä–æ—Å–ª—ã–π
  1700,                    -- —Ü–µ–Ω–∞ –¥–µ—Ç—Å–∫–∏–π
  '‡∏ø',                     -- –≤–∞–ª—é—Ç–∞
  '1 –¥–µ–Ω—å (9 —á–∞—Å–æ–≤)',
  '–¥–æ 40 —á–µ–ª–æ–≤–µ–∫',
  ARRAY['–ü—É–Ω–∫—Ç 1', '–ü—É–Ω–∫—Ç 2'],           -- highlights
  ARRAY['–¢—Ä–∞–Ω—Å—Ñ–µ—Ä', '–û–±–µ–¥'],             -- included
  ARRAY['–ê–ª–∫–æ–≥–æ–ª—å', '–°—É–≤–µ–Ω–∏—Ä—ã'],         -- excluded
  ARRAY['–ö—É–ø–∞–ª—å–Ω–∏–∫', '–ü–æ–ª–æ—Ç–µ–Ω—Ü–µ'],       -- requirements
  ARRAY['–ü–æ–≥–æ–¥–∞ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å—Å—è'],      -- important_info
  ARRAY['–∞–∫—Ç–∏–≤–Ω—ã–π', '–¥–∂—É–Ω–≥–ª–∏'],          -- tags
  true,                    -- is_active
  false,                   -- is_featured
  5                        -- sort_order
) RETURNING id;
```

### –®–ê–ì 3: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π
```sql
-- –ü–û–õ–£–ß–ò tour_id –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
-- –î–æ–±–∞–≤—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –≤ –ø–æ—Ä—è–¥–∫–µ –∏–∑ gallery –º–∞—Å—Å–∏–≤–∞
INSERT INTO tour_gallery (tour_id, image_url, sort_order) VALUES
  ('TOUR_ID_HERE', '/assets/tour/photo1.jpg', 1),
  ('TOUR_ID_HERE', '/assets/tour/photo2.jpg', 2),
  ('TOUR_ID_HERE', '/assets/tour/photo3.jpg', 3);
```

### –®–ê–ì 4: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã —Ç—É—Ä–∞
```sql
-- –î–æ–±–∞–≤—å —ç—Ç–∞–ø—ã –ø—Ä–æ–≥—Ä–∞–º–º—ã
INSERT INTO tour_itinerary (tour_id, day, title, description, time, sort_order) VALUES
  ('TOUR_ID_HERE', '1-–π –¥–µ–Ω—å', '–í—Å—Ç—Ä–µ—á–∞', '–°–±–æ—Ä –≤ –æ—Ç–µ–ª–µ...', '08:00', 1),
  ('TOUR_ID_HERE', '1-–π –¥–µ–Ω—å', '–ü–µ—Ä–µ–µ–∑–¥', '–î–æ—Ä–æ–≥–∞ –∫ –º–µ—Å—Ç—É...', '09:00', 2);
```

---

## üìã –ß–ï–ö–õ–ò–°–¢ –ü–ï–†–ï–î –ú–ò–ì–†–ê–¶–ò–ï–ô

### ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:
- [ ] –ü—Ä–æ—á–∏—Ç–∞–ª AI_PROMPT_INSTRUCTIONS.md –ø–æ–ª–Ω–æ—Å—Ç—å—é
- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª —á—Ç–æ slug —É–Ω–∏–∫–∞–ª–µ–Ω
- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª —á—Ç–æ slug —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å toursRegistry.id
- [ ] –í—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω—ã
- [ ] –ú–∞—Å—Å–∏–≤—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω—ã (ARRAY[])
- [ ] –¶–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã (—á–∏—Å–ª–∞, –Ω–µ —Å—Ç—Ä–æ–∫–∏)
- [ ] –¢–µ–≥–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
- [ ] –ï—Å—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è –±–∞–∑—ã (–µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ)

### ‚úÖ –ü–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏:
- [ ] –ó–∞–ø—É—Å—Ç–∏–ª `npm run dev`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª —Ç—É—Ä –Ω–∞ localhost
- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª —á—Ç–æ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç—É—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –ü–æ–ª—É—á–∏–ª –æ–¥–æ–±—Ä–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [ ] –¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –æ–¥–æ–±—Ä–µ–Ω–∏—è –¥–µ–ª–∞—é deploy

---

## üîç –ß–ê–°–¢–´–ï –û–®–ò–ë–ö–ò –ò –†–ï–®–ï–ù–ò–Ø

### ‚ùå –û—à–∏–±–∫–∞: "duplicate key value violates unique constraint"
**–ü—Ä–∏—á–∏–Ω–∞:** slug —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –±–∞–∑–µ  
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ slug –∫–æ–º–∞–Ω–¥–æ–π:
```sql
SELECT slug FROM tours;
```

### ‚ùå –û—à–∏–±–∫–∞: "malformed array literal"
**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –º–∞—Å—Å–∏–≤–∞  
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å PostgreSQL:
```sql
-- ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û
tags: ['—Ç–µ–≥1', '—Ç–µ–≥2']

-- ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û
tags: ARRAY['—Ç–µ–≥1', '—Ç–µ–≥2']
```

### ‚ùå –û—à–∏–±–∫–∞: "null value in column violates not-null constraint"
**–ü—Ä–∏—á–∏–Ω–∞:** –ü—Ä–æ–ø—É—â–µ–Ω–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ  
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –≤—Å–µ –ø–æ–ª—è —Å NOT NULL –∑–∞–ø–æ–ª–Ω–µ–Ω—ã

---

## üéØ –ü–†–ò–ú–ï–† –ü–û–õ–ù–û–ô –ú–ò–ì–†–ê–¶–ò–ò

```sql
-- –®–ê–ì 1: –í—Å—Ç–∞–≤–∫–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
INSERT INTO tours (
  slug, title, subtitle, description,
  price_adult, price_child, currency,
  duration, group_size,
  highlights, included, excluded, requirements, important_info,
  tags, is_active, is_featured, sort_order
) VALUES (
  'rafting-spa-atv-1-day',
  '–†–ê–§–¢–ò–ù–ì + –°–õ–û–ù–û–í–¨–ï –°–ü–ê + ATV 1 –¥–µ–Ω—å',
  '–ê–∫—Ç–∏–≤–Ω–æ–µ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ: —Å–ø–ª–∞–≤ –ø–æ —Ä–µ–∫–µ, —Å–ª–æ–Ω–æ–≤—å–µ –°–ü–ê –∏ –∫–∞—Ç–∞–Ω–∏–µ –Ω–∞ –∫–≤–∞–¥—Ä–æ—Ü–∏–∫–ª–∞—Ö',
  '–ù–µ–∑–∞–±—ã–≤–∞–µ–º–æ–µ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ –≤ –æ–¥–∏–Ω –¥–µ–Ω—å: —Å–ø–ª–∞–≤ –ø–æ –≥–æ—Ä–Ω–æ–π —Ä–µ–∫–µ...',
  2000, 1700, '‡∏ø',
  '1 –¥–µ–Ω—å (9 —á–∞—Å–æ–≤)', '–¥–æ 40 —á–µ–ª–æ–≤–µ–∫',
  ARRAY['–†–∞—Ñ—Ç–∏–Ω–≥ 5 –∫–º', '–°–ª–æ–Ω–æ–≤—å–µ –°–ü–ê', 'ATV –∫–≤–∞–¥—Ä–æ—Ü–∏–∫–ª—ã'],
  ARRAY['–¢—Ä–∞–Ω—Å—Ñ–µ—Ä', '–û–±–µ–¥', '–°—Ç—Ä–∞—Ö–æ–≤–∫–∞'],
  ARRAY['–ê–ª–∫–æ–≥–æ–ª—å', '–°—É–≤–µ–Ω–∏—Ä—ã'],
  ARRAY['–ö—É–ø–∞–ª—å–Ω–∏–∫', '–°–º–µ–Ω–Ω–∞—è –æ–¥–µ–∂–¥–∞', '–ü–æ–ª–æ—Ç–µ–Ω—Ü–µ'],
  ARRAY['–í–æ–∑–º–æ–∂–Ω–∞ –æ—Ç–º–µ–Ω–∞ –∏–∑-–∑–∞ –ø–æ–≥–æ–¥—ã', '–î–µ—Ç–∏ –æ—Ç 4 –ª–µ—Ç'],
  ARRAY['—Ä–∞—Ñ—Ç–∏–Ω–≥', '—Å–ª–æ–Ω—ã', 'spa', 'atv', '–ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è', '1 –¥–µ–Ω—å'],
  true, false, 5
) RETURNING id;

-- –®–ê–ì 2: –í—Å—Ç–∞–≤–∫–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π (–∏—Å–ø–æ–ª—å–∑—É–π –ø–æ–ª—É—á–µ–Ω–Ω—ã–π id)
INSERT INTO tour_gallery (tour_id, image_url, sort_order) VALUES
  ('–ü–û–õ–£–ß–ï–ù–ù–´–ô_ID', '/assets/rafting-spa-atv/rafting21-scaled.jpg', 1),
  ('–ü–û–õ–£–ß–ï–ù–ù–´–ô_ID', '/assets/rafting-spa-atv/rafting-scaled.jpg', 2);

-- –®–ê–ì 3: –í—Å—Ç–∞–≤–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã
INSERT INTO tour_itinerary (tour_id, day, title, description, time, sort_order) VALUES
  ('–ü–û–õ–£–ß–ï–ù–ù–´–ô_ID', '1-–π –¥–µ–Ω—å', '–í—Å—Ç—Ä–µ—á–∞', '–¢—Ä–∞–Ω—Å—Ñ–µ—Ä –∏–∑ –æ—Ç–µ–ª—è', '08:00-09:00', 1),
  ('–ü–û–õ–£–ß–ï–ù–ù–´–ô_ID', '1-–π –¥–µ–Ω—å', '–†–∞—Ñ—Ç–∏–Ω–≥', '–°–ø–ª–∞–≤ –ø–æ —Ä–µ–∫–µ 5–∫–º', '11:00-12:30', 2);
```

---

## üéì –ü–û–õ–ï–ó–ù–´–ï SQL –ö–û–ú–ê–ù–î–´

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç—É—Ä–æ–≤:
```sql
SELECT id, slug, title, is_active FROM tours ORDER BY sort_order;
```

### –ü–æ–∏—Å–∫ —Ç—É—Ä–∞ –ø–æ slug:
```sql
SELECT * FROM tours WHERE slug = 'your-tour-slug';
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Ñ–æ—Ç–æ —Ç—É—Ä–∞:
```sql
SELECT * FROM tour_gallery WHERE tour_id = 'TOUR_ID' ORDER BY sort_order;
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã —Ç—É—Ä–∞:
```sql
SELECT * FROM tour_itinerary WHERE tour_id = 'TOUR_ID' ORDER BY sort_order;
```

### –£–¥–∞–ª–µ–Ω–∏–µ —Ç—É—Ä–∞ (–û–°–¢–û–†–û–ñ–ù–û!):
```sql
-- –£–¥–∞–ª—è–µ—Ç —Ç—É—Ä –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏ –∏–∑ gallery –∏ itinerary
DELETE FROM tours WHERE slug = 'tour-to-delete';
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Ç—É—Ä–∞:
```sql
UPDATE tours 
SET 
  price_adult = 2200,
  price_child = 1900,
  updated_at = NOW()
WHERE slug = 'tour-slug';
```

---

## üí° BEST PRACTICES

### 1. –†–∞–±–æ—Ç–∞ —Å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏
–ò—Å–ø–æ–ª—å–∑—É–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:
```sql
BEGIN;
  -- –¢–≤–æ–∏ INSERT/UPDATE –∑–∞–ø—Ä–æ—Å—ã
  INSERT INTO tours (...) VALUES (...);
  INSERT INTO tour_gallery (...) VALUES (...);
COMMIT;  -- –ò–ª–∏ ROLLBACK –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫
```

### 2. –°–æ—Ö—Ä–∞–Ω–∏ tour_id –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
```sql
-- –°–æ—Ö—Ä–∞–Ω–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é
WITH new_tour AS (
  INSERT INTO tours (...) VALUES (...) RETURNING id
)
INSERT INTO tour_gallery (tour_id, image_url, sort_order)
SELECT id, '/path/to/image1.jpg', 1 FROM new_tour
UNION ALL
SELECT id, '/path/to/image2.jpg', 2 FROM new_tour;
```

### 3. –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
```sql
-- –ü–æ—Å–ª–µ –≤—Å—Ç–∞–≤–∫–∏ –ø—Ä–æ–≤–µ—Ä—å –¥–∞–Ω–Ω—ã–µ
SELECT * FROM tours WHERE slug = '–Ω–æ–≤—ã–π-—Ç—É—Ä-slug';
```

---

## üöÄ WORKFLOW: –û—Ç TypeScript –∫ Supabase

```
1. –û—Ç–∫—Ä—ã—Ç—å TypeScript —Ñ–∞–π–ª —Ç—É—Ä–∞
   ‚Üì
2. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ tourData
   ‚Üì
3. –°–æ–∑–¥–∞—Ç—å SQL INSERT —Å RETURNING id
   ‚Üì
4. –í—ã–ø–æ–ª–Ω–∏—Ç—å INSERT –≤ tours —Ç–∞–±–ª–∏—Ü—É
   ‚Üì
5. –ü–æ–ª—É—á–∏—Ç—å tour_id –∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
   ‚Üì
6. –í—Å—Ç–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –≤ tour_gallery
   ‚Üì
7. –í—Å—Ç–∞–≤–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É –≤ tour_itinerary
   ‚Üì
8. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∞–Ω–Ω—ã–µ SELECT –∑–∞–ø—Ä–æ—Å–æ–º
   ‚Üì
9. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ localhost
   ‚Üì
10. –ü–æ–ª—É—á–∏—Ç—å –æ–¥–æ–±—Ä–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   ‚Üì
11. Deploy –Ω–∞ production
```

---

## üìû –ü–û–ú–û–©–¨ –ò –í–û–ü–†–û–°–´

**–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ:**
1. –ü—Ä–æ—á–∏—Ç–∞–π AI_PROMPT_INSTRUCTIONS.md –∑–∞–Ω–æ–≤–æ
2. –ü—Ä–æ–≤–µ—Ä—å –ø—Ä–∏–º–µ—Ä—ã –≤ —ç—Ç–æ–º –≥–∞–π–¥–µ
3. –°–ø—Ä–æ—Å–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ü–ï–†–ï–î –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
4. –ù–µ —É–≥–∞–¥—ã–≤–∞–π - –ª—É—á—à–µ —Å–ø—Ä–æ—Å–∏!

**–ö–æ–Ω—Ç–∞–∫—Ç—ã:**
- Telegram: @Phuketga
- –°–∞–π—Ç: https://phukeo.com

---

## ‚úÖ –§–ò–ù–ê–õ–¨–ù–´–ô –ß–ï–ö–õ–ò–°–¢

–ü–µ—Ä–µ–¥ deploy –ø—Ä–æ–≤–µ—Ä—å:
- [ ] –í—Å–µ 7 —Ç—É—Ä–æ–≤ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –±–∞–∑—É
- [ ] Slug –∫–∞–∂–¥–æ–≥–æ —Ç—É—Ä–∞ —É–Ω–∏–∫–∞–ª–µ–Ω
- [ ] Slug —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å toursRegistry.id
- [ ] –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç—É—Ä–∞
- [ ] –ü—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç—É—Ä–∞
- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª –Ω–∞ localhost - –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç—É—Ä—ã –Ω–µ —Å–ª–æ–º–∞–ª–∏—Å—å
- [ ] –ü–æ–ª—É—á–∏–ª –æ–¥–æ–±—Ä–µ–Ω–∏–µ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [ ] –°–æ–∑–¥–∞–ª –∫–æ–º–º–∏—Ç —Å –ø–æ–Ω—è—Ç–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º

**üéØ –ì–õ–ê–í–ù–û–ï –ü–†–ê–í–ò–õ–û: –õ—É—á—à–µ —Å–ø—Ä–æ—Å–∏—Ç—å –ª–∏—à–Ω–∏–π —Ä–∞–∑, —á–µ–º —Å–ª–æ–º–∞—Ç—å —Ä–∞–±–æ—Ç–∞—é—â–∏–π —Å–∞–π—Ç!**
