<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <!-- PWA Manifest для Telegram Mini App -->
    <link rel="manifest" href="/manifest.json" />
    <meta name="theme-color" content="#007AFF" />
    
    <!-- Telegram Web App SDK -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    
    <title>ПхукетGO - Туры и экскурсии на Пхукете</title>
    <meta name="description" content="Откройте для себя лучшие туры и островные экскурсии на Пхукете. Посетите острова Пхи-Пхи, бухту Майя и нетронутые пляжи с профессиональными гидами." />
    
    <!-- OpenGraph базовые теги для соцсетей -->
    <meta property="og:title" content="ПхукетGO - Туры и экскурсии на Пхукете" />
    <meta property="og:description" content="Откройте для себя лучшие туры и островные экскурсии на Пхукете. Посетите острова Пхи-Пхи, бухту Майя и нетронутые пляжи с профессиональными гидами." />
    <meta property="og:image" content="https://johnda7.github.io/island-travel-echo-clone/assets/phi-phi-maya-bay-LeJ2QhJv.jpg" />
    <meta property="og:url" content="https://johnda7.github.io/island-travel-echo-clone/" />
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="ПхукетGO" />
    <meta property="og:locale" content="ru_RU" />
    <!-- Telegram Web App + HashRouter support -->
    <script type="text/javascript">
      // МГНОВЕННЫЙ редирект на hash (для Telegram Mini App)
      (function() {
        var l = window.location;
        var isCustomDomain = l.hostname !== 'johnda7.github.io';
        var basePath = isCustomDomain ? '' : '/island-travel-echo-clone';
        
        // КРИТИЧНО: Проверяем Telegram Web App
        var isTelegramApp = window.Telegram && window.Telegram.WebApp && window.Telegram.WebApp.initData;
        
        // Если нет hash в URL, добавляем его НЕМЕДЛЕННО
        if (!l.hash || l.hash === '#') {
          var newUrl = basePath + '/#/';
          
          // Для Telegram App используем replace (без истории)
          if (isTelegramApp || l.search.indexOf('telegram=true') !== -1) {
            l.replace(newUrl);
          } else if (isCustomDomain && l.pathname !== '/') {
            // Custom domain: любой путь кроме / → добавляем hash
            l.replace(basePath + '/#' + l.pathname + l.search);
          } else if (!isCustomDomain && l.pathname !== basePath + '/' && l.pathname !== basePath) {
            // GitHub Pages: любой путь кроме базового → добавляем hash
            var path = l.pathname.replace(basePath, '') || '/';
            l.replace(basePath + '/#' + path + l.search);
          } else {
            // Просто открыли базовый URL без hash
            l.replace(newUrl);
          }
        }
      })();
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>